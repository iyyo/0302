<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // /\(\d*\)/
        // /(\d*)/
        // ():作为整体
        // \d*:任意多个数字字符

        // var str = "《水浒》、《西游记》、《红楼梦》、《三国演义》是中国的四大古典名著!";
        // var str = "{水浒}、{西游记}、{红楼梦}、{三国adf213\asf\asd演义}是中国的四大古典名著!";
        // console.log(str.match(/{.*?}/g))



        // .*?字符

        // var str = "gfhjkasdjagdgahkdjjha";
        // console.log(str.match(/\w{2}?j/g))

        // var str = "32+124+351";
        // console.log(str.match(/\d+?\+/g))
        // str = str + "=" + str.match(/\d+/g).reduce(function (v, t) {
        //     return ~~v + ~~t;
        // });
        // console.log(str)


        // str = str + '=' + str.match(/\d+/g).reduce(function (v, t) {
        //     return ~~v + ~~t
        // })
        // console.log(str);


        var str = "(3(23(34)13(51)))";
        function fn(str) {
            if (!/\(\d*\)/g.test(str)) return str;
            str = str.replace(/\(\d*\)/g, function (item) {
                // console.log(item.match(/\d/g)); // 一层一层匹配数值
                return item.match(/\d/g).reduce(function (v, t) { return ~~v + ~~t })
            });
            return fn(str)
        }
        var num = fn(str);
        console.log(num)
    </script>
</body>

</html>