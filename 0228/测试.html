<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text">
    <script>



        var input = document.querySelector("input");
        input.addEventListener("input", inputHandler);

        function inputHandler(e) {
            // input.value=input.value.replace(/\s+/g," ");
            // input.value=input.value.match(/\S+/g).join(" ");
            // if(/^xietian$/.test(input.value)){
            //     input.style.outlineColor="green";
            // }else{
            //     input.style.outlineColor="red";
            // }



            // 1-31
            // if(/^[1-9]$|^[12]\d$|^3[01]$/.test(input.value)){
            //     input.style.outlineColor="green";
            // }else{
            //     input.style.outlineColor="red";
            // }

            // 0-255
            // if(/^\d$|^[1-9]\d$|^1\d{2}$|^2[0-4]\d$|^25[0-5]$/.test(input.value)){
            //     input.style.outlineColor="green";
            // }else{
            //     input.style.outlineColor="red";
            // }

            // 0.0.0.0-255.255.255.255
            // if(/^(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])(\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])){3}$/.test(input.value)){
            //     input.style.outlineColor="green";
            // }else{
            //     input.style.outlineColor="red";
            // }

                // 纯数值，并且保留两位小数，不能有多个.
            input.value = input.value.replace(/[^0-9.]/g, "").replace(/(?<=[^.]*\.[^.]*)\./g, "").replace(/(?<=\..{2})./g, "");
            if (input.value[0] === ".") input.value = "0" + input.value;

        }
    </script>
</body>

</html>